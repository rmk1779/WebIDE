sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/core/Core"],function(e,t,a){"use strict";return e.extend("emp.EmpReg.controller.View1",{onInit:function(){this.oRouter=sap.ui.core.UIComponent.getRouterFor(this)},oDialog1:null,onLogin:function(e){debugger;var t=this.getView();var a=this.getView().getModel();var s=a.getProperty("/Employees");var i=t.byId("userId").getValue();var r=t.byId("pwId").getValue();var d="Admin";var o="password";for(var u=0;u<s.length;u++){if(i===""||r===""){if(i===""){this.byId("userId").setValueState(sap.ui.core.ValueState.Error)}else{this.byId("userId").setValueState(sap.ui.core.ValueState.None)}if(r===""){this.byId("pwId").setValueState(sap.ui.core.ValueState.Error)}else{this.byId("pwId").setValueState(sap.ui.core.ValueState.None)}sap.m.MessageToast.show("Please enter the Input");break}this.byId("userId").setValueState(sap.ui.core.ValueState.None);this.byId("pwId").setValueState(sap.ui.core.ValueState.None);if(d===i&&o===r){this.oRouter.navTo("View2");t.byId("userId").setValue("");t.byId("pwId").setValue("");break}if(i===s[u].empId&&r===s[u].password){if(!s[u].aadhar){if(!this.oDialog1){this.oDialog1=sap.ui.xmlfragment(t.getId(),"emp.EmpReg.fragments.EmpDetail",this);t.addDependent(this.oDialog1)}this.getView().byId("fId1").setValue(s[u].empId);this.getView().byId("fEmail1").setValue(s[u].email);this.getView().byId("fName1").setValue(s[u].empName);this.getView().byId("fPw1").setValue(s[u].password);this.byId("DP3").setMinDate(new Date(1950,0,1));this.byId("DP3").setMaxDate(new Date(1998,11,31));this.getView().byId("fAdhar1").setValue("");this.getView().byId("idCAddrs").setValue("");this.getView().byId("idPAddrs").setValue("");this.oDialog1.open();break}t.byId("userId").setValue("");t.byId("pwId").setValue("");this.oRouter.navTo("View5",{empPath:u});break}if(i!==s[u].empId||r!==s[u].password){sap.m.MessageToast.show("Incorrect userName or Password")}}},onCloseDialog:function(){this.getView().byId("fAdhar1").setValue("");this.getView().byId("idCAddrs").setValue("");this.getView().byId("idPAddrs").setValue("");this.byId("helloDialog1").close()},onSave1:function(){var e=this.getView();var t=e.getModel();var a=t.getProperty("/Employees");var s=this.getView().byId("fId1").getValue();var i=this.getView().byId("fPw1").getValue();var r=this.getView().byId("fAdhar1").getValue();var d=this.getView().byId("DP3").getValue();var o=this.getView().byId("rdGrp1").getSelectedButton().getText();var u=this.getView().byId("rdGrp2").getSelectedButton().getText();var l=this.getView().byId("idCAddrs").getValue();var V=this.getView().byId("idPAddrs").getValue();for(var h=0;h<a.length;h++){if(i===""||r===""||d===""||o===""||u===""||l===""||V===""){if(i===""){this.byId("fPw1").setValueState(sap.ui.core.ValueState.Error)}else{this.byId("fPw1").setValueState(sap.ui.core.ValueState.None)}if(r===""){this.byId("fAdhar1").setValueState(sap.ui.core.ValueState.Error)}else{this.byId("fAdhar1").setValueState(sap.ui.core.ValueState.None)}if(d===""){this.byId("DP3").setValueState(sap.ui.core.ValueState.Error)}else{this.byId("DP3").setValueState(sap.ui.core.ValueState.None)}if(l===""){this.byId("idCAddrs").setValueState(sap.ui.core.ValueState.Error)}else{this.byId("idCAddrs").setValueState(sap.ui.core.ValueState.None)}if(V===""){this.byId("idPAddrs").setValueState(sap.ui.core.ValueState.Error)}else{this.byId("idPAddrs").setValueState(sap.ui.core.ValueState.None)}sap.m.MessageToast.show("Please Enter the Value");break}this.byId("fPw1").setValueState(sap.ui.core.ValueState.None);this.byId("fAdhar1").setValueState(sap.ui.core.ValueState.None);this.byId("DP3").setValueState(sap.ui.core.ValueState.None);this.byId("idCAddrs").setValueState(sap.ui.core.ValueState.None);this.byId("idPAddrs").setValueState(sap.ui.core.ValueState.None);var I=/^[0-9]{12}$/;var p=/^(?=.*\d)[a-zA-Z0-9]{5,10}$/;if(!i.match(p)){this.byId("fPw1").setValueState(sap.ui.core.ValueState.Error);sap.m.MessageToast.show("Password should be Alpha-Numeric 5-10 characters");break}else{this.byId("fPw1").setValueState(sap.ui.core.ValueState.None)}if(!r.match(I)){this.byId("fAdhar1").setValueState(sap.ui.core.ValueState.Error);sap.m.MessageToast.show("Enter 12 digit Aadhar number format");break}else{this.byId("fAdhar1").setValueState(sap.ui.core.ValueState.None)}if(s===a[h].empId){a[h].password=i;a[h].aadhar=r;a[h].birthDate=d;a[h].gender=o;a[h].marital=u;a[h].currentAddress=l;a[h].permanentAddress=V;sap.m.MessageToast.show("Entries Updated Succesfully");this.byId("helloDialog1").close();this.oRouter.navTo("View5",{empPath:h});this.getView().byId("userId").setValue("");this.getView().byId("pwId").setValue("");break}}}})});